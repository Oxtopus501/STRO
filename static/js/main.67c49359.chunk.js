(this.webpackJsonpstro=this.webpackJsonpstro||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(0),i=c.n(a),n=c(10),r=c.n(n),s=(c(15),c(4)),l=c(8),d=c(2),o=(c(16),c(17),c(1));var u=c(7),j=[{label:"\u041c\u043e\u0441\u043a\u0432\u0430",value:"moscow",id:"ip-city-chart-524901"},{label:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",value:"saintPetersburg",id:"ip-city-chart-498817"},{label:"\u041a\u0438\u0435\u0432",value:"kyiv",id:"ip-city-chart-703448"},{label:"\u041b\u043e\u043d\u0434\u043e\u043d",value:"london",id:"ip-city-chart-2643743"},{label:"\u0410\u043c\u0441\u0442\u0435\u0440\u0434\u0430\u043c",value:"amsterdam",id:"ip-city-chart-2759794"},{label:"\u0411\u0435\u0440\u043b\u0438\u043d",value:"berlin",id:"ip-city-chart-2950159"},{label:"\u041b\u0438\u0441\u0441\u0430\u0431\u043e\u043d",value:"lisbon",id:"ip-city-chart-2267057"},{label:"\u041c\u0430\u0434\u0440\u0438\u0434",value:"madrid",id:"ip-city-chart-3117735"},{label:"\u0411\u0430\u0440\u0441\u0435\u043b\u043e\u043d\u0430",value:"barcelona",id:"ip-city-chart-3128760"},{label:"\u0420\u0438\u043c",value:"rome",id:"ip-city-chart-3169070"}],h=(c(19),function(e){var t=e.onClick,c=e.children,a=e.disabled;return Object(o.jsx)("button",{className:"search-button",onClick:t,disabled:a,children:c})}),b=i.a.memo(h);function x(){return Object(o.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z",fill:"#fff"})})}var f=i.a.memo(x);c(20);var m=function(){var e=g();return Object(o.jsx)("select",{className:"select-place",onChange:function(t){var c=j.filter((function(e){return e.id===t.target.value}))[0];e.setCity(c)},children:j.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.label},e.id)}))})};c(21);var v=function(e){return Object(o.jsx)("button",{className:"track-tile__add-button",onClick:e.onClick,children:Object(o.jsx)("svg",{className:"track-tile__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(o.jsx)("g",{id:"surface21955591",children:Object(o.jsx)("path",{d:"M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z M 11 2 "})})})})};c(22);function O(e){return Object(o.jsx)("a",{className:"track-tile__play-button",href:"https://www.youtube.com/results?search_query=".concat("".concat(e.author.replace("&","").split(" ").join("+"),"+").concat(e.title.replace("&","").split(" ").join("+"))),target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAqklEQVQ4jaXSMWoCQRSA4ceyiJVYiCcQS4scIsewtBSvYZHSymNYhRQewUqCJxALsRaRz0KXiK5hdv37+YaZ9wKBFZb4iKoh89cZc3SrALnnDpggTwEaJUDRLz7fAYoW6L0DwBFTtOoCRVsMkdUFin4QWeKwympERBZoVrx5h9H9E1KBI77QfvzEFGCB/qsx/ges1VykPcZqrPIJM3TSBnEFAht8Y5B88NYFIo4rVQkbBd8AAAAASUVORK5CYII=",alt:"play",className:"track-tile__play-icon"})})}var p=i.a.memo(O);c(23);var k=function(e){var t=E(),c=g();return Object(o.jsxs)("div",{className:"track-tile",children:[Object(o.jsxs)("div",{className:"track-tile__place",children:["#",e.place]}),Object(o.jsxs)("div",{className:"track-tile__text-container",children:[Object(o.jsx)("h3",{className:"track-tile__title",children:e.title}),Object(o.jsx)("p",{className:"track-tile__author",children:e.author}),Object(o.jsx)("p",{className:"track-tile__city",children:e.city})]}),Object(o.jsxs)("div",{className:"track-tile__buttons-container",children:[Object(o.jsx)(p,{title:e.title,author:e.author}),Object(o.jsx)(v,{onClick:function(){var a,i,n=t.addedTracks;(a="charts"===e.parent?c.trackList.filter((function(t){if(t.key===e.id)return t}))[0]:t.addedTracks.filter((function(t){if(t.key===e.id)return t}))[0])&&(a.added?(n.forEach((function(e,t){e.key===a.key&&(i=t)})),n.splice(i,1),a.added=!1,t.setAddedTracks(Object(u.a)(n))):(a.added=!0,t.setAddedTracks([].concat(Object(u.a)(t.addedTracks),[a]))))}})]})]})},A=(c(24),i.a.createContext({city:j[0],setCity:function(){},trackList:[],setTrackList:function(){}})),y=A.Provider,g=function(){return i.a.useContext(A)};var _=function(){var e=i.a.useState([]),t=Object(s.a)(e,2),c=t[0],a=t[1],n=i.a.useState(j[0]),r=Object(s.a)(n,2),l=r[0],d=r[1],h=E();return Object(o.jsx)(y,{value:{city:l,setCity:d,trackList:c,setTrackList:a},children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"charts__header",children:[Object(o.jsx)(m,{}),Object(o.jsx)(b,{children:Object(o.jsx)(f,{}),onClick:function(){var e;e=l.id,fetch("https://shazam.p.rapidapi.com/charts/track?locale=en-US&listId=".concat(e,"&pageSize=20&startFrom=0"),{method:"GET",headers:{"x-rapidapi-host":"shazam.p.rapidapi.com","x-rapidapi-key":"ee2ab30195msh36c4dde5ff52590p100112jsnb138dae00782"}}).then((function(e){return e.json()})).then((function(e){var t=e.tracks.map((function(e){return e.city=l.label,h.addedTracks.some((function(t){return t.key===e.key}))?e.added=!0:e.added=!1,e}));a(Object(u.a)(t))}))}})]}),c.length>0?c.map((function(e,t){return Object(o.jsx)(k,{id:e.key,title:e.title,place:t+1,author:e.subtitle,city:e.city,parent:"charts"},e.key)})):null]})})};c(25),c(26);function w(){var e=F();return Object(o.jsx)("button",{className:"burger-button",onClick:function(){e.setIsBurgerButtonActive(!e.isBurgerButtonActive)},children:Object(o.jsxs)("svg",{viewBox:"0 0 100 80",width:"40",height:"40",children:[Object(o.jsx)("rect",{width:"100",height:"12",rx:"8",fill:"white"}),Object(o.jsx)("rect",{y:"30",width:"100",height:"12",rx:"8",fill:"white"}),Object(o.jsx)("rect",{y:"60",width:"100",height:"12",rx:"8",fill:"white"})]})})}var C=i.a.memo(w);function N(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsxs)("div",{className:"header__wrapper",children:[Object(o.jsx)("h2",{className:"header__logo",children:"SoundTracker"}),Object(o.jsx)(C,{})]})})}var B=i.a.memo(N);c(27),c(28);var L=function(){var e=E().addedTracks;return g(),Object(o.jsx)(o.Fragment,{children:e.length>0?e.map((function(e,t){return Object(o.jsx)(k,{id:e.key,title:e.title,place:t+1,author:e.subtitle,city:e.city,parent:"library"},e.key)})):null})};c(29),c(30);var S=function(){return Object(o.jsxs)("ul",{className:"nav-menu",children:[Object(o.jsx)("li",{className:"nav-menu__item",children:Object(o.jsx)(l.b,{to:"/STRO",className:"link nav-menu__link",children:"\u0427\u0430\u0440\u0442\u044b"})}),Object(o.jsx)("li",{className:"nav-menu__item",children:Object(o.jsx)(l.b,{to:"library",className:"link nav-menu__link",children:"\u041c\u043e\u0438 \u0442\u0440\u0435\u043a\u0438"})})]})},T=i.a.createContext({addedTracks:[],setAddedTracks:function(){}}),I=T.Provider,E=function(){return i.a.useContext(T)},R=i.a.createContext({isBurgerButtonActive:!1,setIsBurgerButtonActive:function(){}}),V=R.Provider,F=function(){return i.a.useContext(R)};var K=function(){var e=i.a.useState(JSON.parse(localStorage.getItem("addedTracks"))),t=Object(s.a)(e,2),c=t[0],a=t[1],n=i.a.useState(!1),r=Object(s.a)(n,2),u=r[0],j=r[1];return i.a.useEffect((function(){localStorage.setItem("addedTracks",JSON.stringify(c))}),[c]),i.a.useEffect((function(){null===c&&a([])}),[]),Object(o.jsx)(l.a,{children:Object(o.jsx)(I,{value:{addedTracks:c,setAddedTracks:a},children:Object(o.jsx)(V,{value:{isBurgerButtonActive:u,setIsBurgerButtonActive:j},children:Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(B,{}),Object(o.jsxs)("section",{className:"page-content",children:[u?Object(o.jsx)(S,{}):null,Object(o.jsx)("p",{className:"page-content__text",children:"SoundTracker - \u044d\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 Shazam API, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0430\u0440\u0442\u044b \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0430\u043c \u043c\u0438\u0440\u0430"}),Object(o.jsxs)(d.c,{children:[Object(o.jsx)(d.a,{exact:!0,path:"/STRO",element:Object(o.jsx)(_,{})}),Object(o.jsx)(d.a,{path:"/library",element:Object(o.jsx)(L,{})})]})]})]})})})})};r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(K,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.67c49359.chunk.js.map